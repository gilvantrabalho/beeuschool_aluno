(window.webpackJsonp=window.webpackJsonp||[]).push([[29,6,13],{548:function(t,e,r){"use strict";var n=r(92),o=r.n(n).a.create({baseURL:"https://api.beeu.devg.com.br/api/v1/",headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth._token.local"))}});e.a=o},549:function(t,e,r){"use strict";r.r(e);var n={props:["title"]},o=r(58),component=Object(o.a)(n,(function(){var t=this;return(0,t._self._c)("h1",{staticClass:"h3 mb-2 text-gray-800 mb-3"},[t._v(t._s(t.title))])}),[],!1,null,null,null);e.default=component.exports},550:function(t,e,r){"use strict";r.r(e);var n={props:{title:{type:String,default:""},url_add:{type:String,default:"/"},url_list:{type:String,default:"/"}}},o=r(58),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"d-flex justify-content-between align-items-center card-header py-3"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.title))]),t._v(" "),"/"!=t.url_add?e("div",[e("NuxtLink",{staticClass:"btn btn-sm btn-success font-weight-bold",attrs:{to:t.url_add}},[t._v("+ Adicionar Novo")])],1):t._e(),t._v(" "),"/"!=t.url_list?e("div",[e("NuxtLink",{staticClass:"btn btn-sm btn-success font-weight-bold",attrs:{to:t.url_list}},[e("i",{staticClass:"bi bi-card-checklist"}),t._v(" Todos os registros")])],1):t._e()]),t._v(" "),e("div",{staticClass:"card-body"},[t._t("body")],2)])}),[],!1,null,null,null);e.default=component.exports},559:function(t,e,r){"use strict";var n,o,c,l,d=r(31),m=(r(75),r(548));e.a={register:(l=Object(d.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("students/ticket/register",data);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),registerMessageTicket:(c=Object(d.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("students/ticket/registerMessageTicket",data);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),getMessagesTicket:(o=Object(d.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("students/ticket/messages-ticket/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)}),showStudentId:(n=Object(d.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("students/ticket/show-student-id/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})}},584:function(t,e,r){"use strict";r.r(e);r(15),r(2),r(1),r(22);var n,o,c,l,d,m=r(550),v=r(549),f=r(31),h=(r(75),r(548)),_={getById:(d=Object(f.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("master/teacher/get-by-id/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)}),list:(l=Object(f.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("master/teacher/list");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),register:(c=Object(f.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("master/teacher/register",data);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),edit:(o=Object(f.a)(regeneratorRuntime.mark((function t(e,data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.put("master/teacher/edit/".concat(e),data);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t,e){return o.apply(this,arguments)}),delete:(n=Object(f.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.delete("master/teacher/delete/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},k=r(559),w={components:{TitlePage:v.default,CardContainer:m.default},data:function(){return{teacher:{},ticket:{title:null,send_to:"",teacher_id:null,student_id:this.$auth.user.id,message:null}}},methods:{submit:function(){var t=this;this.validated()&&("P"==this.ticket.send_to&&(this.ticket.teacher_id=this.$auth.user.teacher_id),k.a.register(this.ticket).then((function(e){e.data.error||t.$router.push("/support/ticket/".concat(e.data.ticket.token))})))},validated:function(){return this.ticket.title?this.ticket.send_to?!!this.ticket.message||(this.$notify.error({title:"Oops",message:"Informe uma mensagem para o ticket!"}),!1):(this.$notify.error({title:"Oops",message:"Informe para quem enviar a mensagem!"}),!1):(this.$notify.error({title:"Oops",message:"Informe um título para o ticket!"}),!1)},getTeacherById:function(){var t=this;"P"==this.ticket.send_to&&_.getById(this.$auth.user.teacher_id).then((function(e){t.teacher=e.data.teacher}))}}},y=r(58),component=Object(y.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e("title-page",{attrs:{title:"Ticket"}}),t._v(" "),e("card-container",{attrs:{title:"Abrir novo ticket"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("form",{staticClass:"p-4",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Título: ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ticket.title,expression:"ticket.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.ticket.title},on:{input:function(e){e.target.composing||t.$set(t.ticket,"title",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Enviar para: ")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.ticket.send_to,expression:"ticket.send_to"}],staticClass:"form-control",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.ticket,"send_to",e.target.multiple?r:r[0])},t.getTeacherById]}},[e("option",{attrs:{value:""}},[t._v("Selecione")]),t._v(" "),e("option",{attrs:{value:"P"}},[t._v("Professor")]),t._v(" "),e("option",{attrs:{value:"A"}},[t._v("Administração")])])])]),t._v(" "),"P"==t.ticket.send_to?e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Professor: ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.teacher.name,expression:"teacher.name"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.teacher.name},on:{input:function(e){e.target.composing||t.$set(t.teacher,"name",e.target.value)}}})])]):t._e(),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Mensagem: ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ticket.message,expression:"ticket.message"}],staticClass:"form-control",attrs:{cols:"30",rows:"5"},domProps:{value:t.ticket.message},on:{input:function(e){e.target.composing||t.$set(t.ticket,"message",e.target.value)}}})])])]),t._v(" "),e("button",{staticClass:"btn btn-outline-primary py-3 btn-block",attrs:{type:"submit"}},[t._v("\n              ENVIAR MENSAGEM\n            ")])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"border-left h-100 p-5"},[e("h4",{staticClass:"text-dark font-weight-bold"},[t._v("Abrir Ticket")]),t._v(" "),e("div",[t._v("\n              Ao abrir um ticket vc inicia uma conversa com seu professor ou\n              com a administração, responderemos o mais rápido possível!\n            ")])])])])]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TitlePage:r(549).default})}}]);