(window.webpackJsonp=window.webpackJsonp||[]).push([[22,5,6,11,13,15],{548:function(t,e,n){"use strict";var r=n(92),o=n.n(r).a.create({baseURL:"http://192.168.15.3:8000/api/v1/",headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth._token.local"))}});e.a=o},549:function(t,e,n){"use strict";n.r(e);var r={props:["title"]},o=n(58),component=Object(o.a)(r,(function(){var t=this;return(0,t._self._c)("h1",{staticClass:"h3 mb-2 text-gray-800 mb-3"},[t._v(t._s(t.title))])}),[],!1,null,null,null);e.default=component.exports},550:function(t,e,n){"use strict";n.r(e);var r={props:{title:{type:String,default:""},url_add:{type:String,default:"/"},url_list:{type:String,default:"/"}}},o=n(58),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"d-flex justify-content-between align-items-center card-header py-3"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.title))]),t._v(" "),"/"!=t.url_add?e("div",[e("NuxtLink",{staticClass:"btn btn-sm btn-success font-weight-bold",attrs:{to:t.url_add}},[t._v("+ Adicionar Novo")])],1):t._e(),t._v(" "),"/"!=t.url_list?e("div",[e("NuxtLink",{staticClass:"btn btn-sm btn-success font-weight-bold",attrs:{to:t.url_list}},[e("i",{staticClass:"bi bi-card-checklist"}),t._v(" Todos os registros")])],1):t._e()]),t._v(" "),e("div",{staticClass:"card-body"},[t._t("body")],2)])}),[],!1,null,null,null);e.default=component.exports},557:function(t,e,n){"use strict";n.r(e);var r={props:["id","title","subtitle"]},o=n(58),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal fade",attrs:{id:t.id,"data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("div",[e("h4",{staticClass:"modal-title font-weight-bold",attrs:{id:"staticBackdropLabel"}},[t._v("\n            "+t._s(t.title)+"\n          ")]),t._v(" "),e("div",{staticClass:"m-0 p-0"},[t._v(t._s(t.subtitle))])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"modal-body"},[t._t("body")],2)])])])}),[function(){var t=this._self._c;return t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null);e.default=component.exports},558:function(t,e,n){"use strict";n.r(e);var r={},o=n(58),component=Object(o.a)(r,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column align-items-center"},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])]),t._v(" "),e("span",{staticClass:"mt-2"},[t._v("Carregando...")])])}],!1,null,null,null);e.default=component.exports},561:function(t,e,n){"use strict";var r,o,l,c,d=n(31),m=(n(75),n(548));e.a={getAllByIdStudent:(c=Object(d.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("voucher/read-by-student/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),register:(l=Object(d.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("voucher/create",data);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),getByGrid:(o=Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("voucher/read-by-grid");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)}),configVoucher:(r=Object(d.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("voucher/config-voucher/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})}},562:function(t,e,n){var content=n(566);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("484ae4b2",content,!0,{sourceMap:!1})},565:function(t,e,n){"use strict";n(562)},566:function(t,e,n){var r=n(59)(!1);r.push([t.i,".btn-enviar-comprov{display:block;cursor:pointer;font-weight:700}.ball-comprov{display:block;width:15px;height:15px;border-radius:50%}.card-comprovante{transition:.5s}.card-comprovante:hover{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}",""]),t.exports=r},570:function(t,e,n){"use strict";n.r(e);n(37),n(13);var r={props:["mensalidades"],components:{Modal:n(557).default},created:function(){},data:function(){return{itemSelected:{},Images:null}},methods:{showSelected:function(t){this.itemSelected=t},uploadFile:function(){this.Images=this.$refs.file.files[0]},submit:function(){var t=this;if(this.validated()){this.loading=!0;var e=new FormData;e.append("id",this.itemSelected.id),e.append("file",this.Images);this.$axios.post("voucher/create",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.error?t.$notify.error({title:"Ops!",message:e.data.message}):(t.$notify.success({title:"Sucesso!",message:e.data.message}),setTimeout((function(){window.location.reload()}),1800)),t.loading=!1}))}},validated:function(){return!!this.Images||(this.$notify.error({title:"Ops",message:"Selecione um áudio para envio!"}),!1)},formatDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("-");return"".concat(e[2],"/").concat(e[1],"/").concat(e[0])},formatNumber:function(t){return parseFloat(t).toLocaleString("pt-br",{minimumFractionDigits:2})}}},o=r,l=(n(565),n(58)),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[t._l(t.mensalidades,(function(n,r){return e("div",{key:r,staticClass:"col-md-6"},[e("div",{staticClass:"card-comprovante shadow-sm bg-light rounded w-100 d-flex justify-content-between mb-3"},[e("div",{staticClass:"p-4"},[e("h5",{staticClass:"mb-0 pb-0 font-weight-bold text-dark"},[t._v("\n          Mensalidade de "+t._s(n.month_reference)+"\n        ")]),t._v(" "),e("small",[t._v("Vencimento:\n          "),e("span",{staticClass:"font-weight-bold"},[t._v("\n            "+t._s(t.formatDate(n.due_date))+"\n          ")])])]),t._v(" "),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"p-4"},[e("h5",{staticClass:"mb-1 text-dark"},[t._v("R$ "+t._s(t.formatNumber(n.value)))]),t._v(" "),"Em Aberto"==n.status?e("div",{staticClass:"d-flex align-items-center"},[e("span",{staticClass:"ball-comprov bg-success mr-1"}),t._v("\n            "+t._s(n.status)+"\n          ")]):t._e(),t._v(" "),"A Vencer"==n.status?e("div",{staticClass:"d-flex align-items-center"},[e("span",{staticClass:"ball-comprov bg-warning mr-1"}),t._v("\n            "+t._s(n.status)+"\n          ")]):t._e(),t._v(" "),"Atrasado"==n.status?e("div",{staticClass:"d-flex align-items-center"},[e("span",{staticClass:"ball-comprov bg-danger mr-1"}),t._v("\n            "+t._s(n.status)+"\n          ")]):t._e(),t._v(" "),"Enviado"==n.status?e("div",{staticClass:"d-flex align-items-center"},[e("span",{staticClass:"ball-comprov bg-secondary mr-1"}),t._v("\n            "+t._s(n.status)+"\n          ")]):t._e()]),t._v(" "),"Em Aberto"==n.status?e("div",{staticClass:"btn-enviar-comprov bg-success rounded shadow ml-2 p-4 text-white d-flex align-items-center",attrs:{"data-toggle":"modal","data-target":"#modalEnviarComprovante"},on:{click:function(e){return t.showSelected(n)}}},[t._m(0,!0)]):t._e(),t._v(" "),"A Vencer"==n.status?e("div",{staticClass:"btn-enviar-comprov bg-warning rounded shadow ml-2 p-4 text-white d-flex align-items-center",attrs:{"data-toggle":"modal","data-target":"#modalEnviarComprovante"},on:{click:function(e){return t.showSelected(n)}}},[t._v("\n          ENVIAR\n        ")]):t._e(),t._v(" "),"Atrasado"==n.status?e("div",{staticClass:"btn-enviar-comprov bg-danger ml-2 rounded shadow p-4 text-white d-flex align-items-center",attrs:{"data-toggle":"modal","data-target":"#modalEnviarComprovante"},on:{click:function(e){return t.showSelected(n)}}},[t._v("\n          ATRASADO\n        ")]):t._e(),t._v(" "),"Enviado"==n.status?e("div",{staticClass:"btn-enviar-comprov bg-secondary rounded shadow ml-2 p-4 text-white d-flex align-items-center",on:{click:function(e){return t.showSelected(n)}}},[t._v("\n          ENVIADO\n        ")]):t._e()])])])})),t._v(" "),e("modal",{attrs:{id:"modalEnviarComprovante",title:"Enviar comprovante",subtitle:"Envie seu comprovante para aprovação."},scopedSlots:t._u([{key:"body",fn:function(){return["A Vencer"==t.itemSelected.status||"Em Aberto"==t.itemSelected.status?e("div",[e("form",{ref:"formAudio",attrs:{enctype:"multipart/form-data",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Arquivo: "),e("span",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),e("br"),t._v(" "),e("input",{ref:"file",attrs:{type:"file"},on:{change:t.uploadFile}})]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Valor: ")]),t._v(" "),e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text font-weight-bold"},[t._v("R$")])]),t._v(" "),e("div",{staticClass:"form-control bg-light"},[t._v("\n                    "+t._s(t.formatNumber(t.itemSelected.value))+"\n                  ")])])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Vencimento: ")]),t._v(" "),e("div",{staticClass:"form-control bg-light"},[t._v("\n                  "+t._s(t.formatDate(t.itemSelected.due_date))+"\n                ")])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Mês de referência: ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.itemSelected.month_reference,expression:"itemSelected.month_reference"}],staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelected.month_reference},on:{input:function(e){e.target.composing||t.$set(t.itemSelected,"month_reference",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Status: ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.itemSelected.status,expression:"itemSelected.status"}],staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelected.status},on:{input:function(e){e.target.composing||t.$set(t.itemSelected,"status",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"modal-footer mt-3"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[e("i",{staticClass:"bi bi-x-circle"}),t._v(" Cancelar\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e("i",{staticClass:"bi bi-send-check-fill mr-1"}),t._v(" Enviar\n            ")])])])]):t._e(),t._v(" "),"Atrasado"==t.itemSelected.status?e("div",{staticClass:"alert alert-danger"},[t._v("\n        Mensalidade em atraso. Entre em contato com o suporte!\n      ")]):t._e()]},proxy:!0}])})],2)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column align-items-center"},[e("span",[t._v("ADIANTAR")]),t._v(" "),e("span",[t._v("PARCELA")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Modal:n(557).default})},591:function(t,e,n){"use strict";n.r(e);n(4),n(61),n(37);var r=n(561),o=n(570),l=n(550),c=n(557),d=n(558),m={components:{CardContainer:l.default,Modal:c.default,CardComprovante:o.default,Spinner:d.default},created:function(){this.getVouchersByStudentId()},data:function(){return{loading:!1,Images:null,mensalidades:[{mes_ref:"Janeiro",vencimento:"15/12/2022",valor:"123,90",status:"Enviado"},{mes_ref:"Fevereiro",vencimento:"15/12/2022",valor:"123,90",status:"Em aberto"},{mes_ref:"Fevereiro",vencimento:"15/12/2022",valor:"123,90",status:"Atrasado"}]}},methods:{uploadFile:function(){this.Images=this.$refs.file.files[0]},submit:function(){var t=this;if(this.validated()){this.loading=!0;var e=new FormData;e.append("student_id",this.$auth.user.id),e.append("teacher_id",this.$auth.user.teacher_id),e.append("text_ref_id",this.audio.text_ref_id),e.append("file",this.Images),e.append("description",this.audio.description);this.$axios.post("students/audio/send",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.error?t.$notify.error({title:"Ops!",message:e.data.message}):(t.$notify.success({title:"Sucesso!",message:e.data.message}),setTimeout((function(){window.location.reload()}),1500)),t.loading=!1}))}},validated:function(){return this.audio.text_ref_id?!!this.Images||(this.$notify.error({title:"Ops",message:"Selecione o comprovante para envio!"}),!1):(this.$notify.error({title:"Ops",message:"Selecione o texto de referência!"}),!1)},getVouchersByStudentId:function(){var t=this;this.loading=!0,r.a.getAllByIdStudent(this.$auth.user.id).then((function(e){t.mensalidades=e.data.vouchers,t.loading=!1}))}}},v=n(58),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("TitlePage",{attrs:{title:"Comprovantes de Pagamento"}}),t._v(" "),e("card-container",{attrs:{title:"Todos meus comprovantes"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"d-flex justify-content-end mb-4"},[e("NuxtLink",{staticClass:"btn btn-success shadow py-2",attrs:{to:"/financial/my-vouchers",type:"button"}},[e("i",{staticClass:"bi bi-stickies-fill mr-2"}),t._v("\n          Ver todos os comprovantes\n        ")])],1),t._v(" "),t.loading?e("div",[e("spinner")],1):e("div",[e("card-comprovante",{attrs:{mensalidades:t.mensalidades}})],1)]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TitlePage:n(549).default})}}]);